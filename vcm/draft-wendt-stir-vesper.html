<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>VESPER - VErifiable STI Personas</title>
<meta content="Chris Wendt" name="author">
<meta content="Rob Sliwa" name="author">
<meta content="
       This document extends the STIR architecture by specifying the use of JSON Web Tokens (JWT) and Selective Disclosure JWT (SD-JWT) for representing persona related information intended to be the output of a Know Your Customer (KYC) or Know Your Business (KYB) type of vetting process. It defines entities called Vetting Agents (VA) that perform a vetting of persona related information and can issue a verifiable token bearing the VA signature, containing information that can be disclosed or selectively disclosed to an interested party. The Vetted Entity (VE) can hold this token in selectively disclosable forms to disclose specific information to the third parties. The vesper token enables the delivery and verification of information with privacy protecting mechanism in a complete, selective or zero knowledge manner specifically supported by the SD-JWT. This document also describes an API standard to be supported/hosted by a Vetting Agent (VA), which allow vetted parties to present tokens proving their KYC/KYB conformance, and incorporates proof of possession to ensure the legitimacy of the entity presenting the token. 
    " name="description">
<meta content="xml2rfc 3.22.0" name="generator">
<meta content="telephone number" name="keyword">
<meta content="vetting" name="keyword">
<meta content="KYC" name="keyword">
<meta content="draft-wendt-stir-vesper-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.22.0
    Python 3.12.3
    ConfigArgParse 1.7
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.4
    lxml 4.9.4
    platformdirs 4.2.2
    pycountry 22.3.5
    PyYAML 6.0.1
    requests 2.32.3
    setuptools 69.5.1
    wcwidth 0.2.13
-->
<link href="draft-wendt-stir-vesper.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">vesper</td>
<td class="right">July 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Wendt &amp; Sliwa</td>
<td class="center">Expires 26 January 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Secure Telephone Identity Revisited</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-wendt-stir-vesper-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2024-07-25" class="published">25 July 2024</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-01-26">26 January 2025</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C. Wendt</div>
<div class="org">Somos, Inc.</div>
</div>
<div class="author">
      <div class="author-name">R. Sliwa</div>
<div class="org">Somos, Inc.</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">VESPER - VErifiable STI Personas</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document extends the STIR architecture by specifying the use of JSON Web Tokens (JWT) and Selective Disclosure JWT (SD-JWT) for representing persona related information intended to be the output of a Know Your Customer (KYC) or Know Your Business (KYB) type of vetting process. It defines entities called Vetting Agents (VA) that perform a vetting of persona related information and can issue a verifiable token bearing the VA signature, containing information that can be disclosed or selectively disclosed to an interested party. The Vetted Entity (VE) can hold this token in selectively disclosable forms to disclose specific information to the third parties. The vesper token enables the delivery and verification of information with privacy protecting mechanism in a complete, selective or zero knowledge manner specifically supported by the SD-JWT. This document also describes an API standard to be supported/hosted by a Vetting Agent (VA), which allow vetted parties to present tokens proving their KYC/KYB conformance, and incorporates proof of possession to ensure the legitimacy of the entity presenting the token.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://appliedbits.github.io/draft-wendt-stir-vesper/draft-wendt-stir-vesper.html">https://appliedbits.github.io/draft-wendt-stir-vesper/draft-wendt-stir-vesper.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-wendt-stir-vesper/">https://datatracker.ietf.org/doc/draft-wendt-stir-vesper/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        Secure Telephone Identity Revisited Working Group mailing list (<span><a href="mailto:stir@ietf.org">mailto:stir@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/stir/">https://mailarchive.ietf.org/arch/browse/stir/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/stir/">https://www.ietf.org/mailman/listinfo/stir/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/appliedbits/draft-wendt-stir-vesper">https://github.com/appliedbits/draft-wendt-stir-vesper</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 26 January 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-conventions-and-definitions" class="internal xref">Conventions and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-overview" class="internal xref">Overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-vetting-process-overview" class="internal xref">Vetting Process Overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-vetting-process-procedures" class="internal xref">Vetting Process Procedures</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-setup-and-registration-of-v" class="internal xref">Setup and Registration of VE with VA</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-va-publishes-vetted-informa" class="internal xref">VA Publishes Vetted Information Digest to Transparency Service</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-ve-requests-a-vesper-token-" class="internal xref">VE Requests a Vesper Token from VA</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-vv-verification-procedures" class="internal xref">VV Verification Procedures</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-vetting-credential-manifest" class="internal xref">Vetting Credential Manifest</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-vcm-structure" class="internal xref">VCM Structure</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-json-representation-of-vcm" class="internal xref">JSON Representation of VCM</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-selective-disclosure-json-w" class="internal xref">Selective Disclosure JSON Web Tokens (SD-JWT) for Vetted information</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-sd-jwt-and-disclosures" class="internal xref">SD-JWT and Disclosures</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-sd-jwt-verification" class="internal xref">SD-JWT Verification</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="auto internal xref">8.3</a>.  <a href="#name-vesper-token-sd-jwt-and-sd-" class="internal xref">Vesper token SD-JWT and SD-JWT+KB Data Formats</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="auto internal xref">8.4</a>.  <a href="#name-example-issuance" class="internal xref">Example Issuance</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-api-endpoints" class="internal xref">API Endpoints</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-request-vetting-token-api" class="internal xref">Request Vetting Token API</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-public-api-for-verifiers" class="internal xref">Public API for Verifiers</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-vesper-transparency-service" class="internal xref">Vesper Transparency Service API</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-add-vcm-to-log" class="internal xref">Add VCM to Log</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1.2.1">
                    <p id="section-toc.1-1.10.2.1.2.1.1"><a href="#section-10.1.1" class="auto internal xref">10.1.1</a>.  <a href="#name-endpoint-vesper-v1-add-vcm" class="internal xref">Endpoint: /vesper/v1/add-vcm</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1.2.2">
                    <p id="section-toc.1-1.10.2.1.2.2.1"><a href="#section-10.1.2" class="auto internal xref">10.1.2</a>.  <a href="#name-example-request" class="internal xref">Example Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1.2.3">
                    <p id="section-toc.1-1.10.2.1.2.3.1"><a href="#section-10.1.3" class="auto internal xref">10.1.3</a>.  <a href="#name-example-response" class="internal xref">Example Response</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-retrieve-latest-signed-tree" class="internal xref">Retrieve Latest Signed Tree Head</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2.2.1">
                    <p id="section-toc.1-1.10.2.2.2.1.1"><a href="#section-10.2.1" class="auto internal xref">10.2.1</a>.  <a href="#name-endpoint-vesper-v1-get-sth" class="internal xref">Endpoint: /vesper/v1/get-sth</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2.2.2">
                    <p id="section-toc.1-1.10.2.2.2.2.1"><a href="#section-10.2.2" class="auto internal xref">10.2.2</a>.  <a href="#name-example-response-2" class="internal xref">Example Response</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="auto internal xref">10.3</a>.  <a href="#name-retrieve-merkle-consistency" class="internal xref">Retrieve Merkle Consistency Proof between Two Signed Tree Heads</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3.2.1">
                    <p id="section-toc.1-1.10.2.3.2.1.1"><a href="#section-10.3.1" class="auto internal xref">10.3.1</a>.  <a href="#name-endpoint-vesper-v1-get-sth-" class="internal xref">Endpoint: /vesper/v1/get-sth-consistency</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3.2.2">
                    <p id="section-toc.1-1.10.2.3.2.2.1"><a href="#section-10.3.2" class="auto internal xref">10.3.2</a>.  <a href="#name-example-request-2" class="internal xref">Example Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3.2.3">
                    <p id="section-toc.1-1.10.2.3.2.3.1"><a href="#section-10.3.3" class="auto internal xref">10.3.3</a>.  <a href="#name-example-response-3" class="internal xref">Example Response</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="auto internal xref">10.4</a>.  <a href="#name-retrieve-merkle-audit-proof" class="internal xref">Retrieve Merkle Audit Proof from Log by Leaf Hash</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4.2.1">
                    <p id="section-toc.1-1.10.2.4.2.1.1"><a href="#section-10.4.1" class="auto internal xref">10.4.1</a>.  <a href="#name-endpoint-vesper-v1-get-proo" class="internal xref">Endpoint: /vesper/v1/get-proof-by-hash</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4.2.2">
                    <p id="section-toc.1-1.10.2.4.2.2.1"><a href="#section-10.4.2" class="auto internal xref">10.4.2</a>.  <a href="#name-example-request-3" class="internal xref">Example Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4.2.3">
                    <p id="section-toc.1-1.10.2.4.2.3.1"><a href="#section-10.4.3" class="auto internal xref">10.4.3</a>.  <a href="#name-example-response-4" class="internal xref">Example Response</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="auto internal xref">10.5</a>.  <a href="#name-retrieve-entries-from-log" class="internal xref">Retrieve Entries from Log</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5.2.1">
                    <p id="section-toc.1-1.10.2.5.2.1.1"><a href="#section-10.5.1" class="auto internal xref">10.5.1</a>.  <a href="#name-endpoint-vesper-v1-get-entr" class="internal xref">Endpoint: /vesper/v1/get-entries</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5.2.2">
                    <p id="section-toc.1-1.10.2.5.2.2.1"><a href="#section-10.5.2" class="auto internal xref">10.5.2</a>.  <a href="#name-example-request-4" class="internal xref">Example Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5.2.3">
                    <p id="section-toc.1-1.10.2.5.2.3.1"><a href="#section-10.5.3" class="auto internal xref">10.5.3</a>.  <a href="#name-example-response-5" class="internal xref">Example Response</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.6">
                <p id="section-toc.1-1.10.2.6.1"><a href="#section-10.6" class="auto internal xref">10.6</a>.  <a href="#name-retrieve-accepted-root-cert" class="internal xref">Retrieve Accepted Root Certificates</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.6.2.1">
                    <p id="section-toc.1-1.10.2.6.2.1.1"><a href="#section-10.6.1" class="auto internal xref">10.6.1</a>.  <a href="#name-endpoint-vesper-v1-get-root" class="internal xref">Endpoint: /vesper/v1/get-roots</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.6.2.2">
                    <p id="section-toc.1-1.10.2.6.2.2.1"><a href="#section-10.6.2" class="auto internal xref">10.6.2</a>.  <a href="#name-example-response-6" class="internal xref">Example Response</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7">
                <p id="section-toc.1-1.10.2.7.1"><a href="#section-10.7" class="auto internal xref">10.7</a>.  <a href="#name-retrieve-entry-merkle-audit" class="internal xref">Retrieve Entry + Merkle Audit Proof from Log</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7.2.1">
                    <p id="section-toc.1-1.10.2.7.2.1.1"><a href="#section-10.7.1" class="auto internal xref">10.7.1</a>.  <a href="#name-endpoint-vesper-v1-get-entry" class="internal xref">Endpoint: /vesper/v1/get-entry-and-proof</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7.2.2">
                    <p id="section-toc.1-1.10.2.7.2.2.1"><a href="#section-10.7.2" class="auto internal xref">10.7.2</a>.  <a href="#name-example-request-5" class="internal xref">Example Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7.2.3">
                    <p id="section-toc.1-1.10.2.7.2.3.1"><a href="#section-10.7.3" class="auto internal xref">10.7.3</a>.  <a href="#name-example-response-7" class="internal xref">Example Response</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-requirement-for-sha-256-in-" class="internal xref">Requirement for SHA-256 in Append-only Logs</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="auto internal xref">14</a>. <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The Secure Telephone Identity (STI) architecture fundamentally defined by STI certificates in <span>[<a href="#RFC8226" class="cite xref">RFC8226</a>]</span>, PASSporTs in <span>[<a href="#RFC8225" class="cite xref">RFC8225</a>]</span>, and the SIP Identity header field <span>[<a href="#RFC8224" class="cite xref">RFC8224</a>]</span> describe a set of constructs and protocols for the use of tokens and digital signatures to protect the integrity and provide non-repudiation of information as part of a communications session most notably the associated telephone numbers. This document extends that architecture to address the association of a telephone number to a persona (e.g. a person or business entity) given responsibility for the right to use that telephone number. Recently, the illegitimate use of telephone numbers by unauthorized parties and the associated fraudulent activity associated with those communications has generally eroded trust in communications systems. Further, basic reliance on the trust of the signer alone to at the time of the communications without has proven to require time and people consuming work to perform after-the-fact investigation and enforcement activities. Other industries, like the financial industry, have adopted well-known successful practices of Know Your Customer (KYC) or Know Your Business (KYB), otherwise referred to as the application of vetting practices of an entity. This document focuses on the representation of the vetting results and the information vetted for the responsible parties before any communications can be initiated. The confirmation and acknowledgement of the connection between a persona or business entity with a telephone number and the responsibilities associated with its use is a critical step towards building true trusted relationships between parties involved in a set of communications. This document describes the "vesper" token, a VErifiable Sti PERsona represented by a token signed by a party that can be used as an acknowledged and trusted as part of a communications ecosystem to represent the output of the KYC or vetting procedures likely corresponding to an agreed upon set of policies defined by a communications ecosystem. Additionally, the use of detailed vetting information required to verify a persona is information that likely requires strict privacy practices and policies to be enforced. The vesper token and architecture provides mechanisms for providing selective disclosure of any personally identifying information to be disclosed to those that are authorized by either the persona directly or, for example, based on enforcement actions required for legitimately authorized legal or regulatory activity.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">In the current state of digital identities, the unique identifier used to identify the persona behind the identifier is obviously a critical part of using an identifier as part of a digital protocol, but just as important is the ability to associate a real-world persona to that identifier as the responsible party behind that identifier. The telephone number as an identifier and as part of a set of traditional communications services offered around the world has been facing a challenge of illegitimate fraud based on the lack of a formal framework for the explicit association of a set of communications to a directly responsible party. The use of "spoofing" of telephone numbers, a practice of the use of telephone numbers by not directly authorized parties, while having very legitimate use-cases, has been exploited by actors of fraudulent intent to either impersonate the legitimate party, or simply obfuscate the actual party behind the call. Fraud and illegitimate activity has proliferated based on the loose connection of telephone numbers to responsible parties.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">The use of vesper tokens in communications will allow for a trust model enabled by a three party trust system based on an agreed set of vetting policies with a set of privacy enabled features to allow for selective disclosure for communications that require authorized use of a telephone number with the ability to support use-cases that require anonymity all the way up to full disclosure of vetted persona information if that is desired. The Vetting Agent (VA) issues the vesper token as the party taking responsibility to vet Vetting Parties according to a set of policies and best practices, the Vetting Entity (VE) holds the resulting token or ability to provide access to a fresh token for proof and disclosure that they were vetted by the VA, and Vetting Verifier (VV) verifies the token based on trust that the VA is reputable and follows policies and best practices. The Vesper token is primarily designed to be used in many ways to represent the vetting of the persona associated with a telephone number or as referred to more generally an STI. This document defines the specific use of the vesper token in the STI architecture.<a href="#section-1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="overview">
<section id="section-3">
      <h2 id="name-overview">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
      </h2>
<p id="section-3-1">The vetting process for entities involves verifying their identity and legitimacy, typically through KYC and KYB vetting procedures. This document proposes a standardized method for representing the results of these vetting procedures using JSON Web Tokens (JWT) and Selective Disclosure JWT (SD-JWT). This document does not address how the KYC/KYB should be performed or what documents or processes should be used. Rather the goal of this document is to create a standardized identifier for the Vetted Entities (VE) to present that they are who they claim to be.<a href="#section-3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-4">
      <h2 id="name-terminology">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-4-1">Vetting Agent: An entity that performs the vetting of persona-related information and issues verifiable tokens containing the vetted information. A Vetting Agent can be a trusted third party or a service provider that performs the vetting of persona-related information. The vetting process can be performed by the Vetting Agent or a third party that specializes in vetting. It is the responsibility of the Vetting Agent to ensure that the vetting process is performed according to the agreed-upon policies and best practices.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">Vetting Entity: An entity that is vetted by a Vetting Agent and holds the verifiable token containing the vetted information. The Vetting Entity can be a person or a business entity.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">Vetting Verifier: An entity that verifies the verifiable token issued by a Vetting Agent to a Vetting Entity. The Vetting Verifier can be a service provider or a third party that verifies the verifiable token.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">Vesper Token: A verifiable token issued by a Vetting Agent to a Vetting Entity containing the disclosable claims. The Vesper Token is represented as a Selective Disclosure JWT (SD-JWT).<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">Vetting Confirmation Manifest: An envelope that encapsulates the results of the vetting process. The Vetting Confirmation Manifest is used to log the fact that the Vetting Agent vetted and accepted the Vetting Entity with a transparency service.<a href="#section-4-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="vetting-process-overview">
<section id="section-5">
      <h2 id="name-vetting-process-overview">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-vetting-process-overview" class="section-name selfRef">Vetting Process Overview</a>
      </h2>
<p id="section-5-1">The vetting process involves verifying the identity and legitimacy of a Vetting Entity (VE) through KYC and KYB vetting procedures. The vetting procedures are not the subject of this document, but the successful results of the vetting procedures are captured in a Vetting Confirmation Manifest (VCM), which serves as an indication that the vetting process was completed successfully.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">After the Vetting Agent (VA) completes the vetting process, it can issue a verifiable token containing zero or more disclosable claims about the VE. The Vetting Entity (VE) holds the verifiable token and can present it to Vetting Verifiers (VV) to prove their identity and legitimacy. The VV verifies the verifiable token to ensure that the VE is who they claim to be.<a href="#section-5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="vetting-process-procedures">
<section id="section-6">
      <h2 id="name-vetting-process-procedures">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-vetting-process-procedures" class="section-name selfRef">Vetting Process Procedures</a>
      </h2>
<p id="section-6-1">The vetting process generally involves the following steps:<a href="#section-6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6-2">
<pre>
                ┌───────────────────┐                                                 ┌──────────────────┐                               ┌─────────────────────┐                ┌─────────────────────────┐
                │Vetting Entity (VE)│                                                 │Vetting Agent (VA)│                               │Vetting Verifier (VV)│                │Transparency Service (TS)│
                └─────────┬─────────┘                                                 └─────────┬────────┘                               └──────────┬──────────┘                └────────────┬────────────┘
                          │                  Register and submit information                    │                                                   │                                        │
                          │────────────────────────────────────────────────────────────────────&gt;│                                                   │                                        │
                          │                                                                     │                                                   │                                        │
                          │             Create authenticated account and entity_id              │                                                   │                                        │
                          │&lt;────────────────────────────────────────────────────────────────────│                                                   │                                        │
                          │                                                                     │                                                   │                                        │
               ╔══════════╧═════════════════════════════════════════════════════════════════════╧══════════╗                                        │                                        │
               ║VE submits uniquely identifiable information                                              ░║                                        │                                        │
               ╚══════════╤═════════════════════════════════════════════════════════════════════╤══════════╝                                        │                                        │
                          │                                                                     │────┐                                              │                                        │
                          │                                                                     │    │ Perform vetting functions and KYC/KYB checks │                                        │
                          │                                                                     │&lt;───┘                                              │                                        │
                          │                                                                     │                                                   │                                        │
                          │                                                                     │                                                   │                                        │
      ╔══════╤════════════╪═════════════════════════════════════════════════════════════════════╪═══════════════════╗                               │                                        │
      ║ ALT  │  Key Binding (KB) Setup                                                          │                   ║                               │                                        │
      ╟──────┘            │                                                                     │                   ║                               │                                        │
      ║                   │                  Generate public/private key pair                   │                   ║                               │                                        │
      ║                   │────────────────────────────────────────────────────────────────────&gt;│                   ║                               │                                        │
      ║                   │                                                                     │                   ║                               │                                        │
      ║                   │                       Public key registered                         │                   ║                               │                                        │
      ║                   │&lt;────────────────────────────────────────────────────────────────────│                   ║                               │                                        │
      ╚═══════════════════╪═════════════════════════════════════════════════════════════════════╪═══════════════════╝                               │                                        │
                          │                                                                     │                                                   │                                        │
                          │                                                                     │                              Encapsulate vetting data in VCM                               │
                          │                                                                     │───────────────────────────────────────────────────────────────────────────────────────────&gt;│
                          │                                                                     │                                                   │                                        │
                          │                                                                     │                               Append-only log and issue SVT                                │
                          │                                                                     │&lt;───────────────────────────────────────────────────────────────────────────────────────────│
                          │                                                                     │                                                   │                                        │
                          │                        Request Vesper Token                         │                                                   │                                        │
                          │────────────────────────────────────────────────────────────────────&gt;│                                                   │                                        │
                          │                                                                     │                                                   │                                        │
                          │Issue SD-JWT with KYC/KYB info, public key, and transparency receipt │                                                   │                                        │
                          │&lt;────────────────────────────────────────────────────────────────────│                                                   │                                        │
                          │                                                                     │                                                   │                                        │
                          │                                                Present verifiable token                                                 │                                        │
                          │────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────&gt;│                                        │
                          │                                                                     │                                                   │                                        │
                          │                                 Verify token signature and optionally validate KB-JWT                                   │                                        │
                          │&lt;────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────│                                        │
                          │                                                                     │                                                   │                                        │
                          │                                                                     │                                                   │         Verify SVT signature           │
                          │                                                                     │                                                   │───────────────────────────────────────&gt;│
                          │                                                                     │                                                   │                                        │
                          │                                                                     │                                                   │Verify entity_name in SVT matches token │
                          │                                                                     │                                                   │&lt;───────────────────────────────────────│
                          │                                                                     │                                                   │                                        │
                          │                                                                     │                                   ╔═══════════════╧═══════════════╗                        │
                          │                                                                     │                                   ║Vetting Verification Complete ░║                        │
                ┌─────────┴─────────┐                                                 ┌─────────┴────────┐                          ╚═══════════════════════════════╝           ┌────────────┴────────────┐
                │Vetting Entity (VE)│                                                 │Vetting Agent (VA)│                               │Vetting Verifier (VV)│                │Transparency Service (TS)│
                └───────────────────┘                                                 └──────────────────┘                               └─────────────────────┘                └─────────────────────────┘
</pre><a href="#section-6-2" class="pilcrow">¶</a>
</div>
<div id="setup-and-registration-of-ve-with-va">
<section id="section-6.1">
        <h3 id="name-setup-and-registration-of-v">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-setup-and-registration-of-v" class="section-name selfRef">Setup and Registration of VE with VA</a>
        </h3>
<ol start="1" type="1" class="normal type-1" id="section-6.1-1">
<li id="section-6.1-1.1">
            <p id="section-6.1-1.1.1">Registration of the Vetting Entity (VE) with a Vetting Authority (VA). The VE creates an authenticated account relationship with the VA, and a unique entity_id is created.<a href="#section-6.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.1-1.2">
            <p id="section-6.1-1.2.1">The VE submits a set of information to describe itself with uniquely identifiable entity-specific information. This document describes a baseline set of information claims that <span class="bcp14">SHOULD</span> be included, but anticipates future specifications that correspond to future communications ecosystem policies and best practices that may extend that set of information, including the syntax and definitions. The submission of information to the VA is <span class="bcp14">RECOMMENDED</span> to follow the format and syntax of what will be defined later in the document as the token claim format for each set of information, but this document does not specifically define a protocol for the submission of information, only the token that represents the results of the process.<a href="#section-6.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.1-1.3">
            <p id="section-6.1-1.3.1">The VA performs the vetting functions and KYC/KYB checks according to their procedures. The vetting functions can be performed in many ways in different countries and legal jurisdictions, and therefore, this document does not specify any specifics on how the VA performs these vetting functions and is out of scope for this document.<a href="#section-6.1-1.3.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<p id="section-6.1-2"><span class="bcp14">RECOMMENDED</span> but optional use of Key Binding (KB) as defined in <span>[<a href="#I-D.ietf-oauth-selective-disclosure-jwt" class="cite xref">I-D.ietf-oauth-selective-disclosure-jwt</a>]</span>:<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1-3">
<li id="section-6.1-3.1">
            <p id="section-6.1-3.1.1">The entity generates a public/private key pair, or the VA does it on the entity's behalf.<a href="#section-6.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.1-3.2">
            <p id="section-6.1-3.2.1">The public key is registered with the VA.<a href="#section-6.1-3.2.1" class="pilcrow">¶</a></p>
</li>
        </ol>
</section>
</div>
<div id="va-publishes-vetted-information-digest-to-transparency-service">
<section id="section-6.2">
        <h3 id="name-va-publishes-vetted-informa">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-va-publishes-vetted-informa" class="section-name selfRef">VA Publishes Vetted Information Digest to Transparency Service</a>
        </h3>
<ol start="1" type="1" class="normal type-1" id="section-6.2-1">
<li id="section-6.2-1.1">
            <p id="section-6.2-1.1.1">The VA encapsulates the results of their vetting data in a Vetting Credential Manifest (VCM) (see <span><a href="#vetting-credential-manifest" class="internal xref">Vetting Credential Manifest</a> (<a href="#vetting-credential-manifest" class="auto internal xref">Section 7</a>)</span>). What exactly is included in the VCM is up to the VA and influenced by the process used, but there is a minimum set of information that is required to be included in the VCM.<a href="#section-6.2-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.2-1.2">
            <p id="section-6.2-1.2.1">The VA registers the VCM with an append-only log.<a href="#section-6.2-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.2-1.3">
            <p id="section-6.2-1.3.1">The append-only log, upon verification of the VCM and queuing it into the log, issues a Signed Vetting Timestamp (SVT).<a href="#section-6.2-1.3.1" class="pilcrow">¶</a></p>
</li>
        </ol>
</section>
</div>
<div id="ve-requests-a-vesper-token-from-va">
<section id="section-6.3">
        <h3 id="name-ve-requests-a-vesper-token-">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-ve-requests-a-vesper-token-" class="section-name selfRef">VE Requests a Vesper Token from VA</a>
        </h3>
<ol start="1" type="1" class="normal type-1" id="section-6.3-1">
<li id="section-6.3-1.1">
            <p id="section-6.3-1.1.1">The VE acts as a holder of Vetting Credentials and provides a method for verifiers to request the vetted information. Optionally, the VE can use the VA's hosted wallet service APIs if available.<a href="#section-6.3-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.3-1.2">
            <p id="section-6.3-1.2.1">The VA issues an SD-JWT containing the KYC/KYB information, the public key in a CNF claim (per SD-JWT RFC draft), and the transparency receipt, including the hash of the VCM data.<a href="#section-6.3-1.2.1" class="pilcrow">¶</a></p>
</li>
        </ol>
</section>
</div>
<div id="vv-verification-procedures">
<section id="section-6.4">
        <h3 id="name-vv-verification-procedures">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-vv-verification-procedures" class="section-name selfRef">VV Verification Procedures</a>
        </h3>
<ol start="1" type="1" class="normal type-1" id="section-6.4-1">
<li id="section-6.4-1.1">
            <p id="section-6.4-1.1.1">The VV ensures that the token signature is correct. Optionally, if Key Binding is used, the VV validates the KB-JWT.<a href="#section-6.4-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.4-1.2">
            <p id="section-6.4-1.2.1">The VV verifies the SVT signature.  Optionally, VV can request Merkle Tree inclusion proof from the append-only log.<a href="#section-6.4-1.2.1" class="pilcrow">¶</a></p>
</li>
        </ol>
</section>
</div>
</section>
</div>
<div id="vetting-credential-manifest">
<section id="section-7">
      <h2 id="name-vetting-credential-manifest">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-vetting-credential-manifest" class="section-name selfRef">Vetting Credential Manifest</a>
      </h2>
<p id="section-7-1">The Vetting Credential Manifest (VCM) is used as an envelope for identifying the results of the vetting process. This draft does not define or recommend any specific vetting process. Instead, the VCM provides a common envelope for the vetting results, which can be used to cryptographically ensure that the included data references have not been tampered with.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">The data used within the VCM is determined by the Vetting Agent (VA), and the documents list can be empty or as simple as a reference to the identifier that represents the Vetted Entity (VE).<a href="#section-7-2" class="pilcrow">¶</a></p>
<div id="vcm-structure">
<section id="section-7.1">
        <h3 id="name-vcm-structure">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-vcm-structure" class="section-name selfRef">VCM Structure</a>
        </h3>
<p id="section-7.1-1">The VCM consists of the following key elements:<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-2.1">
            <p id="section-7.1-2.1.1">VCM Version: Version of the VCM format.<a href="#section-7.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.1-2.2">
            <p id="section-7.1-2.2.1">Vetting Agent Information<a href="#section-7.1-2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-2.2.2.1">
                <p id="section-7.1-2.2.2.1.1">agent_name: Name of the vetting agent.<a href="#section-7.1-2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-7.1-2.2.2.2">
                <p id="section-7.1-2.2.2.2.1">agent_metadata: Additional metadata about the vetting agent (optional).<a href="#section-7.1-2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="normal" id="section-7.1-2.3">
            <p id="section-7.1-2.3.1">Vetted Entity Information<a href="#section-7.1-2.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-2.3.2.1">
                <p id="section-7.1-2.3.2.1.1">entity_id: Unique identifier for the vetted entity (unique within the Vetting Agent's scope).<a href="#section-7.1-2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-7.1-2.3.2.2">
                <p id="section-7.1-2.3.2.2.1">entity_name: Name of the vetted entity.<a href="#section-7.1-2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="normal" id="section-7.1-2.4">
            <p id="section-7.1-2.4.1">vetting_metadata: Additional metadata about the vetting process (optional).<a href="#section-7.1-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="json-representation-of-vcm">
<section id="section-7.2">
        <h3 id="name-json-representation-of-vcm">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-json-representation-of-vcm" class="section-name selfRef">JSON Representation of VCM</a>
        </h3>
<p id="section-7.2-1">Here is an example of how the VCM can be structured in JSON:<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2"><code>json
{
  "vcm_version": 1,
  "vetting_agent": {
    "agent_name": "Vetting Authority Inc.",
    "agent_metadata": {}
  },
  "vetted_entity": {
    "entity_id": "VE654321",
    "entity_name": "Business_42"
  },
  "vetting_metadata": []
}
</code><a href="#section-7.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="selective-disclosure-json-web-tokens-sd-jwt-for-vetted-information">
<section id="section-8">
      <h2 id="name-selective-disclosure-json-w">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-selective-disclosure-json-w" class="section-name selfRef">Selective Disclosure JSON Web Tokens (SD-JWT) for Vetted information</a>
      </h2>
<p id="section-8-1">This document defines the vesper token using the SD-JWT, defined in <span>[<a href="#I-D.ietf-oauth-selective-disclosure-jwt" class="cite xref">I-D.ietf-oauth-selective-disclosure-jwt</a>]</span>. The vetting process and disclosure of information closely follows the SD-JWT Issuance and Presentation Flow, Disclosure and Verification, and generally the three-party model (i.e. Issuer, Holder, Verifier) defined in that document.  The Issuer in the context of the vesper token is the VA, the Holder corresponds to the VE, and the Verifier is the VV.<a href="#section-8-1" class="pilcrow">¶</a></p>
<div id="sd-jwt-and-disclosures">
<section id="section-8.1">
        <h3 id="name-sd-jwt-and-disclosures">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-sd-jwt-and-disclosures" class="section-name selfRef">SD-JWT and Disclosures</a>
        </h3>
<p id="section-8.1-1">SD-JWT is a digitally signed JSON document containing digests over the selectively disclosable claims with the Disclosures outside the document. Disclosures can be omitted without breaking the signature, and modifying them can be detected. Selectively disclosable claims can be individual object properties (name-value pairs) or array elements. When presenting an SD-JWT to a Verifier, the Holder only includes the Disclosures for the claims that it wants to reveal to that Verifier. An SD-JWT can also contain clear-text claims that are always disclosed to the Verifier.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1-2">To disclose to a Verifier a subset of the SD-JWT claim values, a Holder sends only the Disclosures of those selectively released claims to the Verifier as part of the SD-JWT. The use of Key Binding is an optional feature.<a href="#section-8.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sd-jwt-verification">
<section id="section-8.2">
        <h3 id="name-sd-jwt-verification">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-sd-jwt-verification" class="section-name selfRef">SD-JWT Verification</a>
        </h3>
<p id="section-8.2-1">The Verifier receives either an SD-JWT or an SD-JWT+KB from the Holder, verifies the signature on the SD-JWT (or the the SD-JWT inside the SD-JWT+KB) using the Issuer's public key, verifies the signature on the KB-JWT using the public key included (or referenced) in the SD-JWT, and calculates the digests over the Holder-Selected Disclosures and verifies that each digest is contained in the SD-JWT.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="vesper-token-sd-jwt-and-sd-jwtkb-data-formats">
<section id="section-8.3">
        <h3 id="name-vesper-token-sd-jwt-and-sd-">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-vesper-token-sd-jwt-and-sd-" class="section-name selfRef">Vesper token SD-JWT and SD-JWT+KB Data Formats</a>
        </h3>
<p id="section-8.3-1">An SD-JWT is composed of<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-2.1">
            <p id="section-8.3-2.1.1">an Issuer-signed JWT, and<a href="#section-8.3-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-2.2">
            <p id="section-8.3-2.2.1">zero or more Disclosures.<a href="#section-8.3-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.3-3">An SD-JWT+KB is composed of<a href="#section-8.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-4.1">
            <p id="section-8.3-4.1.1">an SD-JWT, and<a href="#section-8.3-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.3-4.2">
            <p id="section-8.3-4.2.1">a Key Binding JWT.<a href="#section-8.3-4.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.3-5">The serialized format for the SD-JWT is the concatenation of each part delineated with a single tilde ('~') character as follows:<a href="#section-8.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.3-6">
<pre>
&lt;Issuer-signed JWT&gt;~&lt;Disclosure 1&gt;~&lt;Disclosure 2&gt;~...~&lt;Disclosure N&gt;~
</pre><a href="#section-8.3-6" class="pilcrow">¶</a>
</div>
<p id="section-8.3-7">The serialized format for an SD-JWT+KB extends the SD-JWT format by concatenating a Key Binding JWT.<a href="#section-8.3-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.3-8">
<pre>
&lt;Issuer-signed JWT&gt;~&lt;Disclosure 1&gt;~&lt;Disclosure 2&gt;~...~&lt;Disclosure N&gt;~&lt;KB&gt;
</pre><a href="#section-8.3-8" class="pilcrow">¶</a>
</div>
<p id="section-8.3-9">The payload of a vesper token as an SD-JWT is a JSON object according to the following rules:<a href="#section-8.3-9" class="pilcrow">¶</a></p>
<p id="section-8.3-10">The payload <span class="bcp14">MAY</span> contain the _sd_alg key described in Section 5.1.1 of <span>[<a href="#I-D.ietf-oauth-selective-disclosure-jwt" class="cite xref">I-D.ietf-oauth-selective-disclosure-jwt</a>]</span>.
The payload <span class="bcp14">MAY</span> contain one or more digests of Disclosures to enable selective disclosure of the respective claims, created and formatted as described in Section 5.2.
The payload <span class="bcp14">MAY</span> contain one or more decoy digests to obscure the actual number of claims in the SD-JWT, created and formatted as described in Section 5.2.5.
The payload <span class="bcp14">MAY</span> contain one or more non-selectively disclosable claims.
The payload <span class="bcp14">MAY</span> contain the Holder's public key(s) or reference(s) thereto, as explained in Section 5.1.2.
The payload <span class="bcp14">MAY</span> contain further claims such as iss, iat, etc. as defined or required by the application using SD-JWTs.<a href="#section-8.3-10" class="pilcrow">¶</a></p>
<p id="section-8.3-11">In order to represent the vetted claim information about a VE. The SD-JWT <span class="bcp14">MUST</span> include the following claims:<a href="#section-8.3-11" class="pilcrow">¶</a></p>
<p id="section-8.3-12">iss: Issuer, the Vetting Agent.
sub: Subject, the vetted entity represented by a unique entity_id
iat: Issuance timestamp.
exp: Expiry timestamp.
kyc_data_hash: Hash of the KYC/KYB data.
transparency_receipt: Transparency receipt issued by the transparency service.
(optional) cnf: Public key of the vetted entity, only if key binding is required, defined in <span>[<a href="#RFC7800" class="cite xref">RFC7800</a>]</span><a href="#section-8.3-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-issuance">
<section id="section-8.4">
        <h3 id="name-example-issuance">
<a href="#section-8.4" class="section-number selfRef">8.4. </a><a href="#name-example-issuance" class="section-name selfRef">Example Issuance</a>
        </h3>
<p id="section-8.4-1">The Issuer is using the following input claim set:<a href="#section-8.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-2">
<pre>
{
  "sub": "Business_42",
  "telephone_number_rtu": [
    +18001231234,
    +18881231234
  ],
  "rcd": [
    {"nam":"Business_42","icn":"https://example.com/logo.png"}
  ]
  "business_ids": [
    {"EIN":"123456789"}
  ]
  "address": {
    "street_address": "123 Main St",
    "locality": "Anytown",
    "region": "Anystate",
    "country": "US"
  },
  "contact_given_name": "John",
  "contact_family_name": "Doe",
  "contact_email": "johndoe@example.com",
  "contact_phone_number": "+12025550101"
}
</pre><a href="#section-8.4-2" class="pilcrow">¶</a>
</div>
<p id="section-8.4-3">The Issuer in this case made the following decisions:<a href="#section-8.4-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.4-4.1">
            <p id="section-8.4-4.1.1">The "telephone_number_rtu" array and contents is always visible.<a href="#section-8.4-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.4-4.2">
            <p id="section-8.4-4.2.1">The "rcd" array is always visible, but its contents are selectively disclosable.<a href="#section-8.4-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.4-4.3">
            <p id="section-8.4-4.3.1">The sub element and essential verification data (iss, iat, cnf, etc.) are always visible.<a href="#section-8.4-4.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.4-4.4">
            <p id="section-8.4-4.4.1">All other claims are selectively disclosable.<a href="#section-8.4-4.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.4-4.5">
            <p id="section-8.4-4.5.1">For address, all of the claims can only be selectively disclosed in full.<a href="#section-8.4-4.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.4-5">The following payload is used for the SD-JWT:<a href="#section-8.4-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-6">
<pre>
{
  "_sd": [
    "CrQe7S5kqBAHt-nMYXgc6bdt2SH5aTY1sU_M-PgkjPI",
    "JzYjH4svliH0R3PyEMfeZu6Jt69u5qehZo7F7EPYlSE",
    "PorFbpKuVu6xymJagvkFsFXAbRoc2JGlAUA2BA4o7cI",
    "TGf4oLbgwd5JQaHyKVQZU9UdGE0w5rtDsrZzfUaomLo",
    "XQ_3kPKt1XyX7KANkqVR6yZ2Va5NrPIvPYbyMvRKBMM",
    "XzFrzwscM6Gn6CJDc6vVK8BkMnfG8vOSKfpPIZdAfdE",
    "gbOsI4Edq2x2Kw-w5wPEzakob9hV1cRD0ATN3oQL9JM",
    "jsu9yVulwQQlhFlM_3JlzMaSFzglhQG0DpfayQwLUK4"
  ],
  "iss": "https://vetting-agent.example.com",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "Business_42",
  "telephone_number_rtu": [
    +18001231234,
    +18881231234
  ],
  "rcd": [
    {
      "...": "pFndjkZ_VCzmyTa6UjlZo3dh-ko8aIKQc9DlGzhaVYo"
    }
  ],
  "business_ids": [
    {
      "...": "7Cf6JkPudry3lcbwHgeZ8khAv1U1OSlerP0VkBJrWZ0"
    }
  ],
  "svt": "8khAv1U1OSlerP0VkBJrWZ07Cf6JkPudry3lcbwHgeZ",
  "vcm": {
      "vcm_version": 1,
      "vetting_agent": {
          "agent_name": "Vetting Authority Inc.",
          "agent_metadata": {}
      },
      "vetted_entity": {
          "entity_id": "VE654321",
          "entity_name": "Business_42"
      },
      "vetting_metadata": []
  },
  "_sd_alg": "sha-256",
  "cnf": {
    "jwk": {
      "kty": "EC",
      "crv": "P-256",
      "x": "TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc",
      "y": "ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ"
    }
  }
}
</pre><a href="#section-8.4-6" class="pilcrow">¶</a>
</div>
<p id="section-8.4-7">The following Disclosures are created by the Issuer:<a href="#section-8.4-7" class="pilcrow">¶</a></p>
<p id="section-8.4-8">Claim contact_given_name:<a href="#section-8.4-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-9">
<pre>
SHA-256 Hash: jsu9yVulwQQlhFlM_3JlzMaSFzglhQG0DpfayQwLUK4
Disclosure:
WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImdpdmVuX25hbWUiLCAiSm9o
biJd
Contents: ["2GLC42sKQveCfGfryNRN9w", "contact_given_name", "John"]
</pre><a href="#section-8.4-9" class="pilcrow">¶</a>
</div>
<p id="section-8.4-10">Claim contact_family_name:<a href="#section-8.4-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-11">
<pre>
SHA-256 Hash: TGf4oLbgwd5JQaHyKVQZU9UdGE0w5rtDsrZzfUaomLo
Disclosure:
WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImZhbWlseV9uYW1lIiwgIkRv
ZSJd
Contents: ["eluV5Og3gSNII8EYnsxA_A", "contact_family_name", "Doe"]
</pre><a href="#section-8.4-11" class="pilcrow">¶</a>
</div>
<p id="section-8.4-12">Claim contact_email:<a href="#section-8.4-12" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-13">
<pre>
SHA-256 Hash: JzYjH4svliH0R3PyEMfeZu6Jt69u5qehZo7F7EPYlSE
Disclosure:
WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImVtYWlsIiwgImpvaG5kb2VA
ZXhhbXBsZS5jb20iXQ
Contents: ["6Ij7tM-a5iVPGboS5tmvVA", "contact_email", "johndoe@example.com"]
</pre><a href="#section-8.4-13" class="pilcrow">¶</a>
</div>
<p id="section-8.4-14">Claim phone_number:<a href="#section-8.4-14" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-15">
<pre>
SHA-256 Hash: PorFbpKuVu6xymJagvkFsFXAbRoc2JGlAUA2BA4o7cI
Disclosure:
WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgInBob25lX251bWJlciIsICIr
MS0yMDItNTU1LTAxMDEiXQ
Contents: ["eI8ZWm9QnKPpNPeNenHdhQ", "contact_phone_number",
"+1-202-555-0101"]
</pre><a href="#section-8.4-15" class="pilcrow">¶</a>
</div>
<p id="section-8.4-16">Claim business_ids:<a href="#section-8.4-16" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-17">
<pre>
SHA-256 Hash: XQ_3kPKt1XyX7KANkqVR6yZ2Va5NrPIvPYbyMvRKBMM
Disclosure:
WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgInBob25lX251bWJlcl92ZXJp
ZmllZCIsIHRydWVd
Contents: ["Qg_O64zqAxe412a108iroA", "business_ids", true]
</pre><a href="#section-8.4-17" class="pilcrow">¶</a>
</div>
<p id="section-8.4-18">Claim address:<a href="#section-8.4-18" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-19">
<pre>
SHA-256 Hash: XzFrzwscM6Gn6CJDc6vVK8BkMnfG8vOSKfpPIZdAfdE
Disclosure:
WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImFkZHJlc3MiLCB7InN0cmVl
dF9hZGRyZXNzIjogIjEyMyBNYWluIFN0IiwgImxvY2FsaXR5IjogIkFueXRv
d24iLCAicmVnaW9uIjogIkFueXN0YXRlIiwgImNvdW50cnkiOiAiVVMifV0
Contents: ["AJx-095VPrpTtN4QMOqROA", "address", {"street_address":
"123 Main St", "locality": "Anytown", "region": "Anystate",
"country": "US"}]
</pre><a href="#section-8.4-19" class="pilcrow">¶</a>
</div>
<p id="section-8.4-20">Array Entry:<a href="#section-8.4-20" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-21">
<pre>
SHA-256 Hash: pFndjkZ_VCzmyTa6UjlZo3dh-ko8aIKQc9DlGzhaVYo
Disclosure: WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIlVTIl0
Contents: ["lklxF5jMYlGTPUovMNIvCA", "{"nam":"Business_42","icn":"https://example.com/logo.png"}"]
</pre><a href="#section-8.4-21" class="pilcrow">¶</a>
</div>
<p id="section-8.4-22">Array Entry:<a href="#section-8.4-22" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-23">
<pre>
SHA-256 Hash: 7Cf6JkPudry3lcbwHgeZ8khAv1U1OSlerP0VkBJrWZ0
Disclosure: WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwgIkRFIl0
Contents: ["nPuoQnkRFq3BIeAm7AnXFA", "123456789"]
</pre><a href="#section-8.4-23" class="pilcrow">¶</a>
</div>
<p id="section-8.4-24">The payload is then signed by the Issuer to create a JWT like the following:<a href="#section-8.4-24" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-25">
<pre>
eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0.eyJfc2QiOiBb
IkNyUWU3UzVrcUJBSHQtbk1ZWGdjNmJkdDJTSDVhVFkxc1VfTS1QZ2tqUEkiLCAiSnpZ
akg0c3ZsaUgwUjNQeUVNZmVadTZKdDY5dTVxZWhabzdGN0VQWWxTRSIsICJQb3JGYnBL
dVZ1Nnh5bUphZ3ZrRnNGWEFiUm9jMkpHbEFVQTJCQTRvN2NJIiwgIlRHZjRvTGJnd2Q1
SlFhSHlLVlFaVTlVZEdFMHc1cnREc3JaemZVYW9tTG8iLCAiWFFfM2tQS3QxWHlYN0tB
TmtxVlI2eVoyVmE1TnJQSXZQWWJ5TXZSS0JNTSIsICJYekZyendzY002R242Q0pEYzZ2
Vks4QmtNbmZHOHZPU0tmcFBJWmRBZmRFIiwgImdiT3NJNEVkcTJ4Mkt3LXc1d1BFemFr
b2I5aFYxY1JEMEFUTjNvUUw5Sk0iLCAianN1OXlWdWx3UVFsaEZsTV8zSmx6TWFTRnpn
bGhRRzBEcGZheVF3TFVLNCJdLCAiaXNzIjogImh0dHBzOi8vaXNzdWVyLmV4YW1wbGUu
Y29tIiwgImlhdCI6IDE2ODMwMDAwMDAsICJleHAiOiAxODgzMDAwMDAwLCAic3ViIjog
InVzZXJfNDIiLCAibmF0aW9uYWxpdGllcyI6IFt7Ii4uLiI6ICJwRm5kamtaX1ZDem15
VGE2VWpsWm8zZGgta284YUlLUWM5RGxHemhhVllvIn0sIHsiLi4uIjogIjdDZjZKa1B1
ZHJ5M2xjYndIZ2VaOGtoQXYxVTFPU2xlclAwVmtCSnJXWjAifV0sICJfc2RfYWxnIjog
InNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJjcnYiOiAiUC0y
NTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxpbERsczd2Q2VH
ZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVjQ0U2dDRqVDlG
MkhaUSJ9fX0.XaB1KmNGBE-uKjT8M3VSu65QVWdNMjuhJI1sIEM4TIEs6Ae2f0DfWP80
TAg79QIhbz04IIrrXyrEbzkeZLoVHQ

The issued SD-JWT might look as follows:

eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0.eyJfc2QiOiBb
IkNyUWU3UzVrcUJBSHQtbk1ZWGdjNmJkdDJTSDVhVFkxc1VfTS1QZ2tqUEkiLCAiSnpZ
akg0c3ZsaUgwUjNQeUVNZmVadTZKdDY5dTVxZWhabzdGN0VQWWxTRSIsICJQb3JGYnBL
dVZ1Nnh5bUphZ3ZrRnNGWEFiUm9jMkpHbEFVQTJCQTRvN2NJIiwgIlRHZjRvTGJnd2Q1
SlFhSHlLVlFaVTlVZEdFMHc1cnREc3JaemZVYW9tTG8iLCAiWFFfM2tQS3QxWHlYN0tB
TmtxVlI2eVoyVmE1TnJQSXZQWWJ5TXZSS0JNTSIsICJYekZyendzY002R242Q0pEYzZ2
Vks4QmtNbmZHOHZPU0tmcFBJWmRBZmRFIiwgImdiT3NJNEVkcTJ4Mkt3LXc1d1BFemFr
b2I5aFYxY1JEMEFUTjNvUUw5Sk0iLCAianN1OXlWdWx3UVFsaEZsTV8zSmx6TWFTRnpn
bGhRRzBEcGZheVF3TFVLNCJdLCAiaXNzIjogImh0dHBzOi8vaXNzdWVyLmV4YW1wbGUu
Y29tIiwgImlhdCI6IDE2ODMwMDAwMDAsICJleHAiOiAxODgzMDAwMDAwLCAic3ViIjog
InVzZXJfNDIiLCAibmF0aW9uYWxpdGllcyI6IFt7Ii4uLiI6ICJwRm5kamtaX1ZDem15
VGE2VWpsWm8zZGgta284YUlLUWM5RGxHemhhVllvIn0sIHsiLi4uIjogIjdDZjZKa1B1
ZHJ5M2xjYndIZ2VaOGtoQXYxVTFPU2xlclAwVmtCSnJXWjAifV0sICJfc2RfYWxnIjog
InNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJjcnYiOiAiUC0y
NTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxpbERsczd2Q2VH
ZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVjQ0U2dDRqVDlG
MkhaUSJ9fX0.XaB1KmNGBE-uKjT8M3VSu65QVWdNMjuhJI1sIEM4TIEs6Ae2f0DfWP80
TAg79QIhbz04IIrrXyrEbzkeZLoVHQ~WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgI
mdpdmVuX25hbWUiLCAiSm9obiJd~WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImZh
bWlseV9uYW1lIiwgIkRvZSJd~WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImVtYWl
sIiwgImpvaG5kb2VAZXhhbXBsZS5jb20iXQ~WyJlSThaV205UW5LUHBOUGVOZW5IZGhR
IiwgInBob25lX251bWJlciIsICIrMS0yMDItNTU1LTAxMDEiXQ~WyJRZ19PNjR6cUF4Z
TQxMmExMDhpcm9BIiwgInBob25lX251bWJlcl92ZXJpZmllZCIsIHRydWVd~WyJBSngt
MDk1VlBycFR0TjRRTU9xUk9BIiwgImFkZHJlc3MiLCB7InN0cmVldF9hZGRyZXNzIjog
IjEyMyBNYWluIFN0IiwgImxvY2FsaXR5IjogIkFueXRvd24iLCAicmVnaW9uIjogIkFu
eXN0YXRlIiwgImNvdW50cnkiOiAiVVMifV0~WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZR
IiwgImJpcnRoZGF0ZSIsICIxOTQwLTAxLTAxIl0~WyJHMDJOU3JRZmpGWFE3SW8wOXN5
YWpBIiwgInVwZGF0ZWRfYXQiLCAxNTcwMDAwMDAwXQ~WyJsa2x4RjVqTVlsR1RQVW92T
U5JdkNBIiwgIlVTIl0~WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwgIkRFIl0~
</pre><a href="#section-8.4-25" class="pilcrow">¶</a>
</div>
<p id="section-8.4-26">Presentation<a href="#section-8.4-26" class="pilcrow">¶</a></p>
<p id="section-8.4-27">The following non-normative example shows an SD-JWT+KB as it would be sent from the Holder to the Verifier. Note that it consists of six tilde-separated parts, with the Issuer-signed JWT as shown above in the beginning, four Disclosures (for the claims given_name, family_name, address, and nationalities) in the middle, and the Key Binding JWT as the last element.<a href="#section-8.4-27" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-28">
<pre>
eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImV4YW1wbGUrc2Qtand0In0.eyJfc2QiOiBb
IkNyUWU3UzVrcUJBSHQtbk1ZWGdjNmJkdDJTSDVhVFkxc1VfTS1QZ2tqUEkiLCAiSnpZ
akg0c3ZsaUgwUjNQeUVNZmVadTZKdDY5dTVxZWhabzdGN0VQWWxTRSIsICJQb3JGYnBL
dVZ1Nnh5bUphZ3ZrRnNGWEFiUm9jMkpHbEFVQTJCQTRvN2NJIiwgIlRHZjRvTGJnd2Q1
SlFhSHlLVlFaVTlVZEdFMHc1cnREc3JaemZVYW9tTG8iLCAiWFFfM2tQS3QxWHlYN0tB
TmtxVlI2eVoyVmE1TnJQSXZQWWJ5TXZSS0JNTSIsICJYekZyendzY002R242Q0pEYzZ2
Vks4QmtNbmZHOHZPU0tmcFBJWmRBZmRFIiwgImdiT3NJNEVkcTJ4Mkt3LXc1d1BFemFr
b2I5aFYxY1JEMEFUTjNvUUw5Sk0iLCAianN1OXlWdWx3UVFsaEZsTV8zSmx6TWFTRnpn
bGhRRzBEcGZheVF3TFVLNCJdLCAiaXNzIjogImh0dHBzOi8vaXNzdWVyLmV4YW1wbGUu
Y29tIiwgImlhdCI6IDE2ODMwMDAwMDAsICJleHAiOiAxODgzMDAwMDAwLCAic3ViIjog
InVzZXJfNDIiLCAibmF0aW9uYWxpdGllcyI6IFt7Ii4uLiI6ICJwRm5kamtaX1ZDem15
VGE2VWpsWm8zZGgta284YUlLUWM5RGxHemhhVllvIn0sIHsiLi4uIjogIjdDZjZKa1B1
ZHJ5M2xjYndIZ2VaOGtoQXYxVTFPU2xlclAwVmtCSnJXWjAifV0sICJfc2RfYWxnIjog
InNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJjcnYiOiAiUC0y
NTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxpbERsczd2Q2VH
ZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVjQ0U2dDRqVDlG
MkhaUSJ9fX0.XaB1KmNGBE-uKjT8M3VSu65QVWdNMjuhJI1sIEM4TIEs6Ae2f0DfWP80
TAg79QIhbz04IIrrXyrEbzkeZLoVHQ~WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgI
mZhbWlseV9uYW1lIiwgIkRvZSJd~WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImFk
ZHJlc3MiLCB7InN0cmVldF9hZGRyZXNzIjogIjEyMyBNYWluIFN0IiwgImxvY2FsaXR5
IjogIkFueXRvd24iLCAicmVnaW9uIjogIkFueXN0YXRlIiwgImNvdW50cnkiOiAiVVMi
fV0~WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImdpdmVuX25hbWUiLCAiSm9obiJd
~WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIlVTIl0~eyJhbGciOiAiRVMyNTYiLCA
idHlwIjogImtiK2p3dCJ9.eyJub25jZSI6ICIxMjM0NTY3ODkwIiwgImF1ZCI6ICJodH
RwczovL3ZlcmlmaWVyLmV4YW1wbGUub3JnIiwgImlhdCI6IDE3MTgyOTg3NjYsICJzZF
9oYXNoIjogImEyWTh0bUhrUm9MQXFrWTlKMjR0aXhucWJNLVVxcFg2MUpJRm5BVDIxX2
sifQ.sqzbrv_SfCuI7yk3w7Hot82zFZiaWB-EH2GqsSi2-ZukcgP7z8DQGhPkSV97-WZ
r5hGm-nR0MmSDTXgmoFeViQ
</pre><a href="#section-8.4-28" class="pilcrow">¶</a>
</div>
<p id="section-8.4-29">The following Key Binding JWT payload was created and signed for this presentation by the Holder:<a href="#section-8.4-29" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.4-30">
<pre>
{
  "nonce": "1234567890",
  "aud": "https://verifier.example.org",
  "iat": 1718298766,
  "sd_hash": "a2Y8tmHkRoLAqkY9J24tixnqbM-UqpX61JIFnAT21_k"
}
</pre><a href="#section-8.4-30" class="pilcrow">¶</a>
</div>
<p id="section-8.4-31">If the Verifier did not require Key Binding, then the Holder could have presented the SD-JWT with selected Disclosures directly, instead of encapsulating it in an SD-JWT+KB.<a href="#section-8.4-31" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="api-endpoints">
<section id="section-9">
      <h2 id="name-api-endpoints">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-api-endpoints" class="section-name selfRef">API Endpoints</a>
      </h2>
<p id="section-9-1">The vetting service provides the following APIs:<a href="#section-9-1" class="pilcrow">¶</a></p>
<div id="request-vetting-token-api">
<section id="section-9.1">
        <h3 id="name-request-vetting-token-api">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-request-vetting-token-api" class="section-name selfRef">Request Vetting Token API</a>
        </h3>
<div class="alignLeft art-text artwork" id="section-9.1-1">
<pre>
Endpoint: /api/request-vetting-token
Method: POST
Description: Requests a vetting token (SD-JWT) from the Vetting Authority (VA).
Headers:
  Authorization: Bearer (VE's m2m bearer token)
</pre><a href="#section-9.1-1" class="pilcrow">¶</a>
</div>
<p id="section-9.1-2">Request Body:<a href="#section-9.1-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-9.1-3">
<pre>
{
  "entity_id": "unique-entity-id",
  "key_binding": true,
  "public_key_jwk": {
    "kty": "RSA",
    "e": "AQAB",
    "n": "lsO0Qe0Qu7FwZQ22T5vlqXN...",
    "alg": "RS256"
  }
}
</pre><a href="#section-9.1-3" class="pilcrow">¶</a>
</div>
<p id="section-9.1-4">Response:<a href="#section-9.1-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-9.1-5">
<pre>
{
  "status": "success",
  "vetting_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "transparency_receipt": {
    "log_entry_id": "transparency-log-001",
    "receipt": {
      "hash": "abc123...",
      "timestamp": "2024-06-11T12:35:00Z",
      "signature": "transparency-service-signature"
    }
  }
}
</pre><a href="#section-9.1-5" class="pilcrow">¶</a>
</div>
<p id="section-9.1-6">Note: entity_id is generated by VA. The mechanism how persona is vetted is not subject of this document. This API can only be called after the vetting was complete and entity_id was issued.<a href="#section-9.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="public-api-for-verifiers">
<section id="section-9.2">
        <h3 id="name-public-api-for-verifiers">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-public-api-for-verifiers" class="section-name selfRef">Public API for Verifiers</a>
        </h3>
<div class="alignLeft art-text artwork" id="section-9.2-1">
<pre>
Endpoint: /api/verify-vetted-info
Method: POST
Description: Verifies the validity of transparency receipt.
Request Body:
</pre><a href="#section-9.2-1" class="pilcrow">¶</a>
</div>
<div class="alignLeft art-text artwork" id="section-9.2-2">
<pre>
{
  "transparency_receipt": {
    "log_entry_id": "transparency-log-001",
    "receipt": {
      "hash": "abc123...",
      "timestamp": "2024-06-11T12:35:00Z",
      "signature": "transparency-service-signature"
    }
  }
}
</pre><a href="#section-9.2-2" class="pilcrow">¶</a>
</div>
<p id="section-9.2-3">Response:<a href="#section-9.2-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-9.2-4">
<pre>
{
  "status": "success",
  "message": "Vetted information verified successfully."
}
</pre><a href="#section-9.2-4" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="vesper-transparency-service-api">
<section id="section-10">
      <h2 id="name-vesper-transparency-service">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-vesper-transparency-service" class="section-name selfRef">Vesper Transparency Service API</a>
      </h2>
<div id="add-vcm-to-log">
<section id="section-10.1">
        <h3 id="name-add-vcm-to-log">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-add-vcm-to-log" class="section-name selfRef">Add VCM to Log</a>
        </h3>
<div id="endpoint-vesperv1add-vcm">
<section id="section-10.1.1">
          <h4 id="name-endpoint-vesper-v1-add-vcm">
<a href="#section-10.1.1" class="section-number selfRef">10.1.1. </a><a href="#name-endpoint-vesper-v1-add-vcm" class="section-name selfRef">Endpoint: /vesper/v1/add-vcm</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-10.1.1-1.1">
              <p id="section-10.1.1-1.1.1">Method: POST<a href="#section-10.1.1-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.1.1-1.2">
              <p id="section-10.1.1-1.2.1">Description: Adds a VCM (Vetting Credential Manifest) to the log.<a href="#section-10.1.1-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.1.1-1.3">
              <p id="section-10.1.1-1.3.1">Inputs:<a href="#section-10.1.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.1.1-1.3.2.1">
                  <p id="section-10.1.1-1.3.2.1.1">vcm: A base64-encoded Vetting Credential Manifest.<a href="#section-10.1.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
            <li class="normal" id="section-10.1.1-1.4">
              <p id="section-10.1.1-1.4.1">Outputs:<a href="#section-10.1.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.1.1-1.4.2.1">
                  <p id="section-10.1.1-1.4.2.1.1">svt_version: The version of the Signed Vetting Timestamp structure, in decimal.<a href="#section-10.1.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.1.1-1.4.2.2">
                  <p id="section-10.1.1-1.4.2.2.1">id: The log ID, base64 encoded.<a href="#section-10.1.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.1.1-1.4.2.3">
                  <p id="section-10.1.1-1.4.2.3.1">timestamp: The SVT timestamp, in decimal.<a href="#section-10.1.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.1.1-1.4.2.4">
                  <p id="section-10.1.1-1.4.2.4.1">extensions: An opaque type for future expansion. Logs should set this to the empty string. Clients should decode the base64-encoded data and include it in the SVT.<a href="#section-10.1.1-1.4.2.4.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.1.1-1.4.2.5">
                  <p id="section-10.1.1-1.4.2.5.1">signature: The SVT signature, base64 encoded.<a href="#section-10.1.1-1.4.2.5.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="example-request">
<section id="section-10.1.2">
          <h4 id="name-example-request">
<a href="#section-10.1.2" class="section-number selfRef">10.1.2. </a><a href="#name-example-request" class="section-name selfRef">Example Request</a>
          </h4>
<p id="section-10.1.2-1"><code>json
{
  "vcm": "base64-encoded-vcm"
}
</code><a href="#section-10.1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-response">
<section id="section-10.1.3">
          <h4 id="name-example-response">
<a href="#section-10.1.3" class="section-number selfRef">10.1.3. </a><a href="#name-example-response" class="section-name selfRef">Example Response</a>
          </h4>
<p id="section-10.1.3-1"><code>json
{
  "svt_version": 1,
  "id": "base64-encoded-log-id",
  "timestamp": 1683000000,
  "extensions": "",
  "signature": "base64-encoded-signature"
}
</code><a href="#section-10.1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="retrieve-latest-signed-tree-head">
<section id="section-10.2">
        <h3 id="name-retrieve-latest-signed-tree">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-retrieve-latest-signed-tree" class="section-name selfRef">Retrieve Latest Signed Tree Head</a>
        </h3>
<div id="endpoint-vesperv1get-sth">
<section id="section-10.2.1">
          <h4 id="name-endpoint-vesper-v1-get-sth">
<a href="#section-10.2.1" class="section-number selfRef">10.2.1. </a><a href="#name-endpoint-vesper-v1-get-sth" class="section-name selfRef">Endpoint: /vesper/v1/get-sth</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-10.2.1-1.1">
              <p id="section-10.2.1-1.1.1">Method: GET<a href="#section-10.2.1-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.2.1-1.2">
              <p id="section-10.2.1-1.2.1">Description: Retrieves the latest signed tree head.<a href="#section-10.2.1-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.2.1-1.3">
              <p id="section-10.2.1-1.3.1">Inputs: None<a href="#section-10.2.1-1.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.2.1-1.4">
              <p id="section-10.2.1-1.4.1">Outputs:<a href="#section-10.2.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.2.1-1.4.2.1">
                  <p id="section-10.2.1-1.4.2.1.1">tree_size: The size of the tree, in entries, in decimal.<a href="#section-10.2.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.2.1-1.4.2.2">
                  <p id="section-10.2.1-1.4.2.2.1">timestamp: The timestamp, in decimal.<a href="#section-10.2.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.2.1-1.4.2.3">
                  <p id="section-10.2.1-1.4.2.3.1">sha256_root_hash: The Merkle Tree Hash of the tree, in base64.<a href="#section-10.2.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.2.1-1.4.2.4">
                  <p id="section-10.2.1-1.4.2.4.1">tree_head_signature: A TreeHeadSignature for the above data.<a href="#section-10.2.1-1.4.2.4.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="example-response-1">
<section id="section-10.2.2">
          <h4 id="name-example-response-2">
<a href="#section-10.2.2" class="section-number selfRef">10.2.2. </a><a href="#name-example-response-2" class="section-name selfRef">Example Response</a>
          </h4>
<p id="section-10.2.2-1"><code>json
{
  "tree_size": 100,
  "timestamp": 1683000000,
  "sha256_root_hash": "base64-encoded-root-hash",
  "tree_head_signature": "base64-encoded-signature"
}
</code><a href="#section-10.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="retrieve-merkle-consistency-proof-between-two-signed-tree-heads">
<section id="section-10.3">
        <h3 id="name-retrieve-merkle-consistency">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-retrieve-merkle-consistency" class="section-name selfRef">Retrieve Merkle Consistency Proof between Two Signed Tree Heads</a>
        </h3>
<div id="endpoint-vesperv1get-sth-consistency">
<section id="section-10.3.1">
          <h4 id="name-endpoint-vesper-v1-get-sth-">
<a href="#section-10.3.1" class="section-number selfRef">10.3.1. </a><a href="#name-endpoint-vesper-v1-get-sth-" class="section-name selfRef">Endpoint: /vesper/v1/get-sth-consistency</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-10.3.1-1.1">
              <p id="section-10.3.1-1.1.1">Method: GET<a href="#section-10.3.1-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.3.1-1.2">
              <p id="section-10.3.1-1.2.1">Description: Retrieves a Merkle consistency proof between two signed tree heads.<a href="#section-10.3.1-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.3.1-1.3">
              <p id="section-10.3.1-1.3.1">Inputs:<a href="#section-10.3.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.3.1-1.3.2.1">
                  <p id="section-10.3.1-1.3.2.1.1">first: The tree_size of the first tree, in decimal.<a href="#section-10.3.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.3.1-1.3.2.2">
                  <p id="section-10.3.1-1.3.2.2.1">second: The tree_size of the second tree, in decimal.<a href="#section-10.3.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
            <li class="normal" id="section-10.3.1-1.4">
              <p id="section-10.3.1-1.4.1">Outputs:<a href="#section-10.3.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.3.1-1.4.2.1">
                  <p id="section-10.3.1-1.4.2.1.1">consistency: An array of Merkle Tree nodes, base64 encoded.<a href="#section-10.3.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="example-request-1">
<section id="section-10.3.2">
          <h4 id="name-example-request-2">
<a href="#section-10.3.2" class="section-number selfRef">10.3.2. </a><a href="#name-example-request-2" class="section-name selfRef">Example Request</a>
          </h4>
<p id="section-10.3.2-1"><code>
/vesper/v1/get-sth-consistency?first=50&amp;second=100
</code><a href="#section-10.3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-response-2">
<section id="section-10.3.3">
          <h4 id="name-example-response-3">
<a href="#section-10.3.3" class="section-number selfRef">10.3.3. </a><a href="#name-example-response-3" class="section-name selfRef">Example Response</a>
          </h4>
<p id="section-10.3.3-1"><code>json
{
  "consistency": [
    "base64-encoded-node1",
    "base64-encoded-node2"
  ]
}
</code><a href="#section-10.3.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="retrieve-merkle-audit-proof-from-log-by-leaf-hash">
<section id="section-10.4">
        <h3 id="name-retrieve-merkle-audit-proof">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-retrieve-merkle-audit-proof" class="section-name selfRef">Retrieve Merkle Audit Proof from Log by Leaf Hash</a>
        </h3>
<div id="endpoint-vesperv1get-proof-by-hash">
<section id="section-10.4.1">
          <h4 id="name-endpoint-vesper-v1-get-proo">
<a href="#section-10.4.1" class="section-number selfRef">10.4.1. </a><a href="#name-endpoint-vesper-v1-get-proo" class="section-name selfRef">Endpoint: /vesper/v1/get-proof-by-hash</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-10.4.1-1.1">
              <p id="section-10.4.1-1.1.1">Method: GET<a href="#section-10.4.1-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.4.1-1.2">
              <p id="section-10.4.1-1.2.1">Description: Retrieves a Merkle audit proof from the log by leaf hash.<a href="#section-10.4.1-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.4.1-1.3">
              <p id="section-10.4.1-1.3.1">Inputs:<a href="#section-10.4.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.4.1-1.3.2.1">
                  <p id="section-10.4.1-1.3.2.1.1">hash: A base64-encoded leaf hash.<a href="#section-10.4.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.4.1-1.3.2.2">
                  <p id="section-10.4.1-1.3.2.2.1">tree_size: The tree_size of the tree on which to base the proof, in decimal.<a href="#section-10.4.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
            <li class="normal" id="section-10.4.1-1.4">
              <p id="section-10.4.1-1.4.1">Outputs:<a href="#section-10.4.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.4.1-1.4.2.1">
                  <p id="section-10.4.1-1.4.2.1.1">leaf_index: The 0-based index of the end entity corresponding to the <code>hash</code> parameter.<a href="#section-10.4.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.4.1-1.4.2.2">
                  <p id="section-10.4.1-1.4.2.2.1">audit_path: An array of base64-encoded Merkle Tree nodes proving the inclusion of the chosen VCM.<a href="#section-10.4.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="example-request-2">
<section id="section-10.4.2">
          <h4 id="name-example-request-3">
<a href="#section-10.4.2" class="section-number selfRef">10.4.2. </a><a href="#name-example-request-3" class="section-name selfRef">Example Request</a>
          </h4>
<p id="section-10.4.2-1"><code>
/vesper/v1/get-proof-by-hash?hash=base64-encoded-hash&amp;tree_size=100
</code><a href="#section-10.4.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-response-3">
<section id="section-10.4.3">
          <h4 id="name-example-response-4">
<a href="#section-10.4.3" class="section-number selfRef">10.4.3. </a><a href="#name-example-response-4" class="section-name selfRef">Example Response</a>
          </h4>
<p id="section-10.4.3-1"><code>json
{
  "leaf_index": 10,
  "audit_path": [
    "base64-encoded-node1",
    "base64-encoded-node2"
  ]
}
</code><a href="#section-10.4.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="retrieve-entries-from-log">
<section id="section-10.5">
        <h3 id="name-retrieve-entries-from-log">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-retrieve-entries-from-log" class="section-name selfRef">Retrieve Entries from Log</a>
        </h3>
<div id="endpoint-vesperv1get-entries">
<section id="section-10.5.1">
          <h4 id="name-endpoint-vesper-v1-get-entr">
<a href="#section-10.5.1" class="section-number selfRef">10.5.1. </a><a href="#name-endpoint-vesper-v1-get-entr" class="section-name selfRef">Endpoint: /vesper/v1/get-entries</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-10.5.1-1.1">
              <p id="section-10.5.1-1.1.1">Method: GET<a href="#section-10.5.1-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.5.1-1.2">
              <p id="section-10.5.1-1.2.1">Description: Retrieves entries from the log.<a href="#section-10.5.1-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.5.1-1.3">
              <p id="section-10.5.1-1.3.1">Inputs:<a href="#section-10.5.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.5.1-1.3.2.1">
                  <p id="section-10.5.1-1.3.2.1.1">start: 0-based index of first entry to retrieve, in decimal.<a href="#section-10.5.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.5.1-1.3.2.2">
                  <p id="section-10.5.1-1.3.2.2.1">end: 0-based index of last entry to retrieve, in decimal.<a href="#section-10.5.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
            <li class="normal" id="section-10.5.1-1.4">
              <p id="section-10.5.1-1.4.1">Outputs:<a href="#section-10.5.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.5.1-1.4.2.1">
                  <p id="section-10.5.1-1.4.2.1.1">entries: An array of objects, each consisting of:<a href="#section-10.5.1-1.4.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.5.1-1.4.2.1.2.1">
                      <p id="section-10.5.1-1.4.2.1.2.1.1">leaf_input: The base64-encoded MerkleTreeLeaf structure.<a href="#section-10.5.1-1.4.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                    <li class="normal" id="section-10.5.1-1.4.2.1.2.2">
                      <p id="section-10.5.1-1.4.2.1.2.2.1">extra_data: The base64-encoded unsigned data pertaining to the log entry.<a href="#section-10.5.1-1.4.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  </ul>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="example-request-3">
<section id="section-10.5.2">
          <h4 id="name-example-request-4">
<a href="#section-10.5.2" class="section-number selfRef">10.5.2. </a><a href="#name-example-request-4" class="section-name selfRef">Example Request</a>
          </h4>
<p id="section-10.5.2-1"><code>
/vesper/v1/get-entries?start=0&amp;end=10
</code><a href="#section-10.5.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-response-4">
<section id="section-10.5.3">
          <h4 id="name-example-response-5">
<a href="#section-10.5.3" class="section-number selfRef">10.5.3. </a><a href="#name-example-response-5" class="section-name selfRef">Example Response</a>
          </h4>
<p id="section-10.5.3-1"><code>json
{
  "entries": [
    {
      "leaf_input": "base64-encoded-leaf1",
      "extra_data": "base64-encoded-extra-data1"
    },
    {
      "leaf_input": "base64-encoded-leaf2",
      "extra_data": "base64-encoded-extra-data2"
    }
  ]
}
</code><a href="#section-10.5.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="retrieve-accepted-root-certificates">
<section id="section-10.6">
        <h3 id="name-retrieve-accepted-root-cert">
<a href="#section-10.6" class="section-number selfRef">10.6. </a><a href="#name-retrieve-accepted-root-cert" class="section-name selfRef">Retrieve Accepted Root Certificates</a>
        </h3>
<div id="endpoint-vesperv1get-roots">
<section id="section-10.6.1">
          <h4 id="name-endpoint-vesper-v1-get-root">
<a href="#section-10.6.1" class="section-number selfRef">10.6.1. </a><a href="#name-endpoint-vesper-v1-get-root" class="section-name selfRef">Endpoint: /vesper/v1/get-roots</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-10.6.1-1.1">
              <p id="section-10.6.1-1.1.1">Method: GET<a href="#section-10.6.1-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.6.1-1.2">
              <p id="section-10.6.1-1.2.1">Description: Retrieves the list of accepted root certificates.<a href="#section-10.6.1-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.6.1-1.3">
              <p id="section-10.6.1-1.3.1">Inputs: None<a href="#section-10.6.1-1.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.6.1-1.4">
              <p id="section-10.6.1-1.4.1">Outputs:<a href="#section-10.6.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.6.1-1.4.2.1">
                  <p id="section-10.6.1-1.4.2.1.1">certificates: An array of base64-encoded root certificates that are acceptable to the log.<a href="#section-10.6.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="example-response-5">
<section id="section-10.6.2">
          <h4 id="name-example-response-6">
<a href="#section-10.6.2" class="section-number selfRef">10.6.2. </a><a href="#name-example-response-6" class="section-name selfRef">Example Response</a>
          </h4>
<p id="section-10.6.2-1"><code>json
{
  "certificates": [
    "base64-encoded-root-cert1",
    "base64-encoded-root-cert2"
  ]
}
</code><a href="#section-10.6.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="retrieve-entry-merkle-audit-proof-from-log">
<section id="section-10.7">
        <h3 id="name-retrieve-entry-merkle-audit">
<a href="#section-10.7" class="section-number selfRef">10.7. </a><a href="#name-retrieve-entry-merkle-audit" class="section-name selfRef">Retrieve Entry + Merkle Audit Proof from Log</a>
        </h3>
<div id="endpoint-vesperv1get-entry-and-proof">
<section id="section-10.7.1">
          <h4 id="name-endpoint-vesper-v1-get-entry">
<a href="#section-10.7.1" class="section-number selfRef">10.7.1. </a><a href="#name-endpoint-vesper-v1-get-entry" class="section-name selfRef">Endpoint: /vesper/v1/get-entry-and-proof</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-10.7.1-1.1">
              <p id="section-10.7.1-1.1.1">Method: GET<a href="#section-10.7.1-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.7.1-1.2">
              <p id="section-10.7.1-1.2.1">Description: Retrieves an entry and its Merkle audit proof from the log.<a href="#section-10.7.1-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-10.7.1-1.3">
              <p id="section-10.7.1-1.3.1">Inputs:<a href="#section-10.7.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.7.1-1.3.2.1">
                  <p id="section-10.7.1-1.3.2.1.1">leaf_index: The index of the desired entry.<a href="#section-10.7.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.7.1-1.3.2.2">
                  <p id="section-10.7.1-1.3.2.2.1">tree_size: The tree_size of the tree for which the proof is desired.<a href="#section-10.7.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
            <li class="normal" id="section-10.7.1-1.4">
              <p id="section-10.7.1-1.4.1">Outputs:<a href="#section-10.7.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.7.1-1.4.2.1">
                  <p id="section-10.7.1-1.4.2.1.1">leaf_input: The base64-encoded MerkleTreeLeaf structure.<a href="#section-10.7.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.7.1-1.4.2.2">
                  <p id="section-10.7.1-1.4.2.2.1">extra_data: The base64-encoded unsigned data.<a href="#section-10.7.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-10.7.1-1.4.2.3">
                  <p id="section-10.7.1-1.4.2.3.1">audit_path: An array of base64-encoded Merkle Tree nodes proving the inclusion of the chosen VCM.<a href="#section-10.7.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="example-request-4">
<section id="section-10.7.2">
          <h4 id="name-example-request-5">
<a href="#section-10.7.2" class="section-number selfRef">10.7.2. </a><a href="#name-example-request-5" class="section-name selfRef">Example Request</a>
          </h4>
<p id="section-10.7.2-1"><code>
/vesper/v1/get-entry-and-proof?leaf_index=10&amp;tree_size=100
</code><a href="#section-10.7.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-response-6">
<section id="section-10.7.3">
          <h4 id="name-example-response-7">
<a href="#section-10.7.3" class="section-number selfRef">10.7.3. </a><a href="#name-example-response-7" class="section-name selfRef">Example Response</a>
          </h4>
<p id="section-10.7.3-1"><code>json
{
  "leaf_input": "base64-encoded-leaf",
  "extra_data": "base64-encoded-extra-data",
  "audit_path": [
    "base64-encoded-node1",
    "base64-encoded-node2"
  ]
}
</code><a href="#section-10.7.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="requirement-for-sha-256-in-append-only-logs">
<section id="section-11">
      <h2 id="name-requirement-for-sha-256-in-">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-requirement-for-sha-256-in-" class="section-name selfRef">Requirement for SHA-256 in Append-only Logs</a>
      </h2>
<p id="section-11-1">To ensure compatibility and prevent inconsistencies across different implementations of Transparency Services, all Append-only Logs used in the VESPER architecture <span class="bcp14">MUST</span> employ SHA-256 as the cryptographic hash function. Specifically:<a href="#section-11-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11-2.1">
          <p id="section-11-2.1.1">Each entry in the Append-only Log <span class="bcp14">MUST</span> be hashed using the SHA-256 algorithm.<a href="#section-11-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-11-2.2">
          <p id="section-11-2.2.1">The log structure, whether implemented as a Merkle Tree or any other verifiable data structure, <span class="bcp14">MUST</span> utilize SHA-256 for all cryptographic operations.<a href="#section-11-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-11-2.3">
          <p id="section-11-2.3.1">This uniformity in the choice of the hash function guarantees that all participants and auditors can independently verify the integrity and consistency of the logs without compatibility issues.<a href="#section-11-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-11-2.4">
          <p id="section-11-2.4.1">Transparency Services <span class="bcp14">MUST</span> provide cryptographic proofs (inclusion proofs and consistency proofs) based on SHA-256, as detailed in [I-D.draft-ietf-cose-merkle-tree-proofs].<a href="#section-11-2.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-11-3">By mandating the use of SHA-256 for all logs, VESPER ensures a standardized and secure approach to maintaining and verifying the integrity of supply chain data.<a href="#section-11-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-12">
      <h2 id="name-security-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-12-1">TODO Security<a href="#section-12-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-13">
      <h2 id="name-iana-considerations">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-13-1">This document has no IANA actions.<a href="#section-13-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-normative-references">
<section id="section-14">
      <h2 id="name-normative-references">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="I-D.ietf-oauth-selective-disclosure-jwt">[I-D.ietf-oauth-selective-disclosure-jwt]</dt>
      <dd>
<span class="refAuthor">Fett, D.</span>, <span class="refAuthor">Yasuda, K.</span>, and <span class="refAuthor">B. Campbell</span>, <span class="refTitle">"Selective Disclosure for JWTs (SD-JWT)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-oauth-selective-disclosure-jwt-10</span>, <time datetime="2024-07-08" class="refDate">8 July 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt-10">https://datatracker.ietf.org/doc/html/draft-ietf-oauth-selective-disclosure-jwt-10</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7800">[RFC7800]</dt>
      <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"Proof-of-Possession Key Semantics for JSON Web Tokens (JWTs)"</span>, <span class="seriesInfo">RFC 7800</span>, <span class="seriesInfo">DOI 10.17487/RFC7800</span>, <time datetime="2016-04" class="refDate">April 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7800">https://www.rfc-editor.org/rfc/rfc7800</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8224">[RFC8224]</dt>
      <dd>
<span class="refAuthor">Peterson, J.</span>, <span class="refAuthor">Jennings, C.</span>, <span class="refAuthor">Rescorla, E.</span>, and <span class="refAuthor">C. Wendt</span>, <span class="refTitle">"Authenticated Identity Management in the Session Initiation Protocol (SIP)"</span>, <span class="seriesInfo">RFC 8224</span>, <span class="seriesInfo">DOI 10.17487/RFC8224</span>, <time datetime="2018-02" class="refDate">February 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8224">https://www.rfc-editor.org/rfc/rfc8224</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8225">[RFC8225]</dt>
      <dd>
<span class="refAuthor">Wendt, C.</span> and <span class="refAuthor">J. Peterson</span>, <span class="refTitle">"PASSporT: Personal Assertion Token"</span>, <span class="seriesInfo">RFC 8225</span>, <span class="seriesInfo">DOI 10.17487/RFC8225</span>, <time datetime="2018-02" class="refDate">February 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8225">https://www.rfc-editor.org/rfc/rfc8225</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8226">[RFC8226]</dt>
    <dd>
<span class="refAuthor">Peterson, J.</span> and <span class="refAuthor">S. Turner</span>, <span class="refTitle">"Secure Telephone Identity Credentials: Certificates"</span>, <span class="seriesInfo">RFC 8226</span>, <span class="seriesInfo">DOI 10.17487/RFC8226</span>, <time datetime="2018-02" class="refDate">February 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8226">https://www.rfc-editor.org/rfc/rfc8226</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">TODO acknowledge.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Chris Wendt</span></div>
<div dir="auto" class="left"><span class="org">Somos, Inc.</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:chris@appliedbits.com" class="email">chris@appliedbits.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Rob Sliwa</span></div>
<div dir="auto" class="left"><span class="org">Somos, Inc.</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:robjsliwa@gmail.com" class="email">robjsliwa@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
